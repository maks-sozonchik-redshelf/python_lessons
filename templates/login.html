{% extends "main_template.html" %}

{% block title%}login{% endblock%}

{% block body%}
{% for cat, msg in get_flashed_messages(True)%}
    <div class="flash {{cat}}">{{msg}}</div>
{% endfor%}
<form action="{{ url_for('login')}}" method="post">
    {{ form.hidden_tag()}}
    {% for field in form if field.name not in ['csrf_token', 'remember', 'submit']%}
        <p>{{ field.label()}}</p>
        {% if field.errors%}
            {{field(class='invalid')}}
            <span class="invalid">
            {% for e in field.errors %}
            {{e}}
            {% endfor %}
            </span>
        {% else%}
            {{ field()}}
        {% endif%}
    {% endfor%}

    <p>{{ form.remember.label() }}{{ form.remember() }}</p>
    <p>{{ form.submit() }}</p>

</form>

{% endblock%}